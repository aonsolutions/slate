
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduccion" class="toc-h1 toc-link" data-title="Introducción">Introducción</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-request" class="toc-h2 toc-link" data-title="HTTP Request">HTTP Request</a>
                  </li>
                  <li>
                    <a href="#data-parameters" class="toc-h2 toc-link" data-title="Data Parameters">Data Parameters</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#factura" class="toc-h1 toc-link" data-title="Factura">Factura</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#obtener-todas-las-facturas" class="toc-h2 toc-link" data-title="Obtener Todas las Facturas">Obtener Todas las Facturas</a>
                  </li>
                  <li>
                    <a href="#obtener-una-factura-especifica" class="toc-h2 toc-link" data-title="Obtener una Factura específica">Obtener una Factura específica</a>
                  </li>
                  <li>
                    <a href="#crear-actualizar-una-factura" class="toc-h2 toc-link" data-title="Crear/Actualizar una Factura">Crear/Actualizar una Factura</a>
                  </li>
                  <li>
                    <a href="#borrar-una-factura" class="toc-h2 toc-link" data-title="Borrar una Factura">Borrar una Factura</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='#'>Contacta con aonSolutions en </a></li>
            <li><a href='#'>info@aonSolutions.es</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduccion'>Introducción</h1>
<p>¡Bienvenido a la API de aonSolutions!</p>

<p>La API de aonSolutions está estructurada siguiendo los fundamentos de una API RESTful. Todas las respuestas, incluyendo las respuestas de errores, devuelven un JSON. En este documento podrás encontrar los diferentes servicios que ofrecemos para visualizar y gestionar las principales entidades de aonSolutions.</p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>Para autenticarse, debes hacerlo con la siguiente llamada al servicio web:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>
<span class="c"># El servicio Login es una llamada POST</span>
curl --request POST <span class="s2">"https://api.aonSolutions.es/auth"</span>
  --data <span class="s2">"user=youruser@email.xxx"</span>
  --data <span class="s2">"password=youraonSolutionspassword"</span>
</code></pre>
<blockquote>
<p>La respuesta devolverá la session_id que deberás utilizar en cada petición a los servicios de aonSolutions:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"session_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"234QWEREWRewfq23ehjHF456..."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>aonSolutions utiliza un sistema de identificadores de sesión para autorizar a un usuario a realizar llamadas a cualquier servicio web.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST https://api.aonSolutions.es/auth</code></p>
<h3 id='data-parameters'>Data Parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>user</td>
<td>string</td>
<td>Cuenta de correo registrada en aonSolutions. Si no dispones de una, por favor regístrate en https://aonSolutions.es</td>
</tr>
<tr>
<td>password</td>
<td>string</td>
<td>Contraseña utilizada en el registro de aonSolutions</td>
</tr>
</tbody></table>

<p>Si el usuario no utiliza este identificador, el servicio devolverá el error “Unauthorized” y se deberá volver a identificar para seguir haciendo uso de los servicios.</p>

<aside class="notice">Se necesita el valor de session_id para cualquier otra llamada a la API de aonSolutions.</aside>
<h1 id='factura'>Factura</h1><h2 id='obtener-todas-las-facturas'>Obtener Todas las Facturas</h2>
<blockquote>
<p>Ejemplo de llamada al servicio “Obtener Todas las Facturas”:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s2">"https://api.aonSolutions.es/invoice/:company"</span>
 -H <span class="s2">"session_id:YOURSESSIONID"</span>
</code></pre>
<blockquote>
<p>Ejemplo de JSON de respuesta:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B70656012"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
    </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Este servicio permite obtener todas las facturas de una determinada empresa.</p>
<h3 id='http-request'>HTTP Request</h3>
<p><code>GET https://api.aonSolutions.es/invoice/:company/</code></p>
<h3 id='path-paramaters'>Path paramaters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>company</td>
<td>string</td>
<td>NIF de la empresa a la que pertenece la factura.</td>
</tr>
</tbody></table>
<h3 id='header-parameters'>Header parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td>string</td>
<td>Identificador del sistema devuelto por el servicio de Autenticación.</td>
</tr>
</tbody></table>
<h3 id='filter-parameters'>Filter Parameters</h3>
<p>You can use the filter query parameter to fetch User. See the table below for more information.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>reference</td>
<td>string</td>
<td>invoice reference.</td>
</tr>
<tr>
<td>sender</td>
<td>string</td>
<td>sender document (NIF)</td>
</tr>
<tr>
<td>receiver</td>
<td>string</td>
<td>receiver document (NIF)</td>
</tr>
<tr>
<td>date</td>
<td>date</td>
<td>from date</td>
</tr>
</tbody></table>
<h2 id='obtener-una-factura-especifica'>Obtener una Factura específica</h2>
<blockquote>
<p>Ejemplo de llamada al servicio “Obtener Todas las Facturas”:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s2">"https://api.aonSolutions.es/invoice/:company"</span>
 -H <span class="s2">"session_id:YOURSESSIONID"</span>
</code></pre>
<blockquote>
<p>Ejemplo de JSON de respuesta:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B70656012"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET https://api.aonSolutions.es/invoice/:company/:number</code></p>
<h3 id='path-parameters'>Path parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>company</td>
<td>string</td>
<td>NIF de la empresa a la que pertenece la factura.</td>
</tr>
<tr>
<td>number</td>
<td>string</td>
<td>Número identificativo de la factura en tEDI.</td>
</tr>
</tbody></table>
<h3 id='header-parameters-2'>Header parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td>string</td>
<td>Identificador del sistema devuelto por el servicio de Autenticación.</td>
</tr>
</tbody></table>
<h2 id='crear-actualizar-una-factura'>Crear/Actualizar una Factura</h2>
<blockquote>
<p>Ejemplo de llamada al servicio “Obtener Todas las Facturas”:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s2">"https://api.aonSolutions.es/invoice/:company"</span>
 -H <span class="s2">"session_id:YOURSESSIONID"</span>
</code></pre>
<blockquote>
<p>Ejemplo de JSON de respuesta:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B70656012"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este servicio permite enviar información para crear/actualizar una factura de una determinada empresa.</p>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>POST https://api.aonSolutions.es/invoice</code></p>
<h3 id='header-parameters-3'>Header parameters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td>string</td>
<td>Identificador del sistema devuelto por el servicio de Autenticación.</td>
</tr>
</tbody></table>
<h2 id='borrar-una-factura'>Borrar una Factura</h2>
<blockquote>
<p>Ejemplo de llamada al servicio “Obtener Todas las Facturas”:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl --request GET <span class="s2">"https://api.aonSolutions.es/invoice/:company"</span>
 -H <span class="s2">"session_id:YOURSESSIONID"</span>
</code></pre>
<blockquote>
<p>Ejemplo de JSON de respuesta:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"company"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B70656012"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="s2">"info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Este servicio permite borrar una factura de una determinada empresa.</p>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>DELETE https://api.aonSolutions.es/invoice/:company/:number</code></p>
<h3 id='path-paramaters-2'>Path paramaters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>company</td>
<td>string</td>
<td>NIF de la empresa a la que pertenece la factura.</td>
</tr>
<tr>
<td>number</td>
<td>string</td>
<td>Número identificativo de la factura en tEDI.</td>
</tr>
</tbody></table>
<h3 id='header-paramaters'>Header paramaters</h3>
<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>session_id</td>
<td>string</td>
<td>Identificador del sistema devuelto por el servicio de Autenticación.</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<aside class="notice">TLas respuestas proporcionadas por esta API siempre se reciben en un formato de JSON</aside>

<p>Los códigos de error más habituales en aonSolutions:</p>

<table><thead>
<tr>
<th>Código</th>
<th>Mensaje</th>
<th>Descripción</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request</td>
<td>Tu petición no es válida, reformula la petición al servidor para obtner una respuesta válida.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized</td>
<td>Tu session_id en aonSolutions no es válida, por favor vuelve a hacer login en aonSolutions.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden</td>
<td>No tienes acceso a este servicio.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found</td>
<td>El servicio solicitado no existe.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed</td>
<td>El servicio solicitado no está activo.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable</td>
<td>La petición realizada no es un JSON.</td>
</tr>
<tr>
<td>410</td>
<td>Gone</td>
<td>El servicio ha sido eliminado de los servidores de aonSolutions.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests</td>
<td>Se han realizado demasiadas peticiones a los servicios en un periodo muy corto de tiempo.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error</td>
<td>Ha habido algún problema en los servidores de aonSolutions. Por favor, inténtelo más tarde.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable</td>
<td>El servicio no está disponible por razones de mantenimiento. Por favor, inténtelo más tarde.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
